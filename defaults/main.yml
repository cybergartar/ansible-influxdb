---
influxdb_service_name: influxdb

# Package variables
influxdb_apt_key_url: https://repos.influxdata.com/influxdb.key
influxdb_apt_repo: "deb https://repos.influxdata.com/{{ ansible_lsb.id|lower }} {{ ansible_lsb.codename|lower }} stable"

# General variables
influxdb_config_path: /etc/influxdb
influxdb_config_filename: influxdb.conf
influxdb_config_filepath: "{{ influxdb_config_path }}/{{ influxdb_config_filename }}"

# Database management
influxdb_databases:
  - telegraf
  - grafana

# User management
influxdb_credentials_admin:
  admin:one:
    username: admin
    password: opstathailand
    database: []
  admin:two:
    username: teng
    password: opstathailand

influxdb_credentials_user:
  user:one:
    username: telegraf
    password: opstathailand
    database:
      - all.telegraf # [ALL,READ,WRITE].[database]


# Configuration
#   default config see more
#   https://github.com/influxdata/influxdb/blob/v1.2.2/etc/config.sample.toml
# FYI
# influxdb_config:
#   <tag>:
#     <key>: <value>
#
global:
  reporting-disabled: false
  bind-address: ":8088"

influxdb_config:
  meta:
    dir: "/var/lib/influxdb/meta"

  data:
    dir: "/var/lib/influxdb/data"
    wal-dir: "/var/lib/influxdb/wal"

  http:
    enabled: true
    bind_address: ":8086"
    auth_enabled: true
    log_enabled: true
    https_certificate: ""
    https_private_key: ""

  admin:
    enabled: true
    bind_address: ":8083"
    https_enabled: false
    https_certificate: ""

  coordinator: {}
  retention: {}
  shard_precreation: {}
  monitor: {}

  subscriber: {}
  continuous_queries:
    enabled: true
    log_enabled: true
  listeners:
    graphite: {}
    collectd: {}
    opentsdb: {}
    udp: {}
